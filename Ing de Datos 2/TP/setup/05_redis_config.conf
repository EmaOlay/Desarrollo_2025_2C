# setup/05_redis_config.conf

# ----------------------------------------------------
# 1. MEMORY MANAGEMENT (CRITICAL for Caching)
# Set a memory limit to prevent the Redis container from consuming all RAM.
# When the limit is reached, old keys will be evicted according to the policy.
# (Note: Maxmemory can be set via Docker Compose command line as well)
# ----------------------------------------------------
# maxmemory <bytes>
# Example: Set max memory to 100 megabytes
maxmemory 100mb

# ----------------------------------------------------
# 2. EVICTION POLICY (Optimal for Caching/Sessions)
# allkeys-lru: Evicts the least recently used (LRU) keys across all keys.
# This is the best policy for generic caching.
# ----------------------------------------------------
maxmemory-policy allkeys-lru

# ----------------------------------------------------
# 3. PERSISTENCE (Optional for Caching/Sessions)
# By default, we rely on the application to reload data from main DBs.
# If you need persistence (for sessions that survive restarts), use AOF or RDB.
# ----------------------------------------------------
# appendonly yes
# appendfsync everysec